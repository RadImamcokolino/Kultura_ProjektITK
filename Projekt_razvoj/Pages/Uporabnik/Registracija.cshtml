@page
@model Projekt_razvoj.Pages.Uporabnik.RegistracijaModel
@{
    ViewData["Title"] = "Registracija";
}
<h1>Registracija / Prijava (demo)</h1>

@if (User?.Identity?.IsAuthenticated == true)
{
    <p>Prijavljen kot <strong>@User.Identity.Name</strong> (@(User.IsInRole("Organizator") ? "Organizator" : "Uporabnik"))</p>
    <form method="post" asp-page-handler="Logout">
        <button class="btn" type="submit">Odjava</button>
    </form>
}
else
{
    <p>Tukaj se prijavite/registrirate</p>
    <form method="post">
        <label>E-pošta <input asp-for="Email" /></label>
        <label>Geslo <input asp-for="Geslo" type="password" /></label>

        <fieldset>
            <legend>Vloga</legend>
            <label><input type="radio" asp-for="Role" value="Uporabnik" checked="checked" /> Uporabnik (samo ogled)</label>
            <label><input type="radio" asp-for="Role" value="Organizator" /> Organizator (lahko dodaja)</label>
        </fieldset>

        <button class="btn" type="submit">Prijavi / Registriraj</button>
    </form>

    @if (Model.Sporocilo is not null)
    {
        <p class="info">@Model.Sporocilo</p>
    }
}